## π’΅ @IdClass μ–΄λ…Έν…μ΄μ…
### κ°λ…
- μλ°”μ—μ„ `@IdClass` μ–΄λ…Έν…μ΄μ…μ€ μ—”ν‹°ν‹°μ primary keyλ¥Ό μ •μν•  λ• μ‚¬μ©λλ‹¤.
- **μ΄λ¦„ κ·Έλ€λ΅ Idκ°’μ„ κ°€μ§„ Classλ΅, ν•΄λ‹Ή ν΄λμ¤λ¥Ό Idλ΅ μ‚¬μ©ν•λ‹¤λ” μλ―Έμ΄λ‹¤.**
- μΌλ°μ μΌλ΅ JPAμ—μ„ μ—”ν‹°ν‹°μ κΈ°λ³Έν‚¤λ¥Ό μ •μν•  λ• λ‹¨μΌ prmiary keyλ¥Ό μ΄μ©ν•λ‹¤.
- λ”°λΌμ„ `@Id` μ–΄λ…Έν…μ΄μ…μ„ ν†µν•΄ ν•΄λ‹Ή μ—”ν‹°ν‹°μ primary keyμ„μ„ μ•λ ¤μ¤€λ‹¤.
- κ·Έλ¬λ‚, μ—”ν‹°ν‹°μ primary keyκ°€ 1κ°κ°€ μ•„λ‹ λ•λ„ μλ‹¤. λ°”λ΅ λ³µν•©ν‚¤.
- μ΄λ• JPAμ—λ” λ³µν•©ν‚¤λ¥Ό μ‚¬μ©ν•  λ• λ³„λ„μ μ‹λ³„μ ν΄λμ¤λ¥Ό μ”κµ¬ν•λ―€λ΅ @IdClassλ¥Ό ν†µν•΄ μ‹λ³„μ ν΄λμ¤λ¥Ό μ •μν•  μ μλ‹¤.

<br>

### @IdClass μ‚¬μ© νλ¦„
1. ν•λ‚μ μ—”ν‹°ν‹° μ•μ— primary keyλ΅ μ‚¬μ©ν•  λ©¤λ²„ λ³€μκ°€ μ—¬λ¬ κ°λΌκ³  ν–μ„ λ•, κ°κ°μ λ©¤λ²„ λ³€μ μ„μ— @Id μ–΄λ…Έν…μ΄μ…μ„ λ‹¬μ•„μ£Όκ² λλ‹¤λ©΄, μ—”ν‹°ν‹°μ κΈ°λ³Έ ν‚¤λ” μ μΌν•΄μ•Ό ν•λ‹¤λ” κ·μΉ™μ— μ„λ°λλ‹¤.
2. λ”°λΌμ„ JPAμ—μ„ λ³µν•©ν‚¤λ¥Ό μ‚¬μ©ν•κΈ° μ„ν•΄μ„λ” μ‹λ³„μ ν΄λμ¤λ¥Ό μ”κµ¬ν•κΈ° λ•λ¬Έμ—,
   ν•΄λ‹Ή μ—”ν‹°ν‹°μ—μ„ μ–΄λ–¤ λ©¤λ²„ λ³€μλ“¤μ„ primary keyλ΅ μ‚¬μ©ν• μ§€ λ³„λ„λ΅ μ‹λ³„μ ν΄λμ¤λ΅ μ •μν•΄μ¤μ•Ό ν•λ‹¤.
3. κ·Έ ν›„ λ³µν•©ν‚¤λ¥Ό μ‚¬μ©ν•  μ—”ν‹°ν‹°μ— @IdClass μ–΄λ…Έν…μ΄μ…μ„ λ‹¬μ•„μ¤μΌλ΅μ¨, ν•΄λ‹Ή ν΄λμ¤μ— μλ” κ°’λ“¤μ„ primary key(@Id)λ΅ μ‚¬μ©ν•λ‹¤κ³  μ •μν•λ©΄ λλ‹¤.

   > μ¦‰, @IdClass(OrderId.class) λΌ λμ–΄μμΌλ©΄,
   > 
   > **OrderId ν΄λμ¤μ μ†μ„λ“¤μ„ ν•΄λ‹Ή μ—”ν‹°ν‹°μ Primary keyλ΅ μ‚¬μ©ν•κ² λ‹¤λ” μλ―Έμ΄λ‹¤.**

<br>
<br>

## π’΅ @Embeddable μ–΄λ…Έν…μ΄μ…
### κ°λ…

- μλ°”μ—μ„ `@Embeddable` μ–΄λ…Έν…μ΄μ…μ€ JPAμ—μ„ μ—”ν‹°ν‹° κ°μ²΄ μ•μ— λ‹¤λ¥Έ κ°μ²΄λ¥Ό ν¬ν•¨ν•κ³  μ‹¶μ„ λ• μ‚¬μ©λλ‹¤.
- μ¦‰, μ—”ν‹°ν‹° κ°μ²΄μ μ†μ„±μΌλ΅ λ‹¤λ¥Έ κ°μ²΄λ¥Ό λ‚΄μ¥(embed)ν•κ³  μ‹¶μ„ λ• μ‚¬μ©λλ‹¤.
- μ΄λ• λ‚΄μ¥λ(Embedded) κ°μ²΄λ” λ°μ΄ν„°λ² μ΄μ¤μ— λ³„λ„μ ν…μ΄λΈ”λ΅ μ €μ¥λμ§€ μ•κ³ , μ†μ ν•λ” μ—”ν‹°ν‹° κ°μ²΄μ™€ ν•¨κ» μ €μ¥λλ‹¤.

### μμ‹
> **μλ¥Ό λ“¤μ–΄ μ£Όλ¬Έ(Order) μ—”ν‹°ν‹° μ•μ— λ°°μ†΅ μ£Όμ†(Address) κ°μ²΄λ¥Ό λ‚΄μ¥ν•κ³  μ‹¶λ‹¤λ©΄,**
1. **μ΄λ• λ‚΄μ¥ν•κ³  μ‹¶μ€ κ°μ²΄μ— @Embeddable μ–΄λ…Έν…μ΄μ…μ„ λ‹¬μ•„μ¤€λ‹¤.**
    ```java
    @Embeddable
    public class Address {
        private String street;
        private String city;
        private String area;
        private String zipCode;
        // ...
    }
    ```

2. **κ·Έλ¦¬κ³  λ‚΄μ¥λ κ°μ²΄λ¥Ό μ‚¬μ©ν•  μ—”ν‹°ν‹°(Order)μ—μ„ @Embedded μ–΄λ…Έν…μ΄μ…μ„ ν†µν•΄ λ‚΄μ¥κ°μ²΄λ¥Ό μ„ μ–Έν•λ‹¤.**
    ```java
    @Entity
    public class Order {
        @Id
        private Long id;
        private String orderNumber;
        
        @Embedded
        private Address address;
        // ...
    }
    ```

### κ²°λ΅ 

- μ΄λ ‡κ² ν•λ©΄ Order μ—”ν‹°ν‹°λ” Address κ°μ²΄λ¥Ό λ‚΄μ¥ν•κ² λλ©°, λ‚΄μ¥λ κ°μ²΄μ μ†μ„±λ“¤μ€ Order μ—”ν‹°ν‹°μ™€ ν•¨κ» λ™μΌν• ν…μ΄λΈ”μ— μ €μ¥λλ‹¤.
- Order μ—”ν‹°ν‹° μ•μ— Address κ°μ²΄λ¥Ό λ‚΄μ¥ν• μƒνƒλ΅ ν…μ΄λΈ”μ— μ €μ¥λλ” μμ‹λ” λ‹¤μκ³Ό κ°™λ‹¤.

| id | orderNumber | address_street | address_city | address_area | address_zipCode |
| --- | --- | --- | --- | --- | --- |
| 1 | ORD-2023001 | λ§ν¬λ€λ΅ 58 | μ„μΈμ‹ | λ§ν¬κµ¬ | 40812 |
| 2 | ORD-2023002 | κ°•λ‚¨λ€λ΅ 71 | μ„μΈμ‹ | κ°•λ‚¨κµ¬ | 60412 |

<br>
<br>

## π’΅ @EmbeddedId μ–΄λ…Έν…μ΄μ…
### κ°λ…
- `@EmbeddedId` μ–΄λ…Έν…μ΄μ…μ€ JPAμ—μ„ λ³µν•©ν‚¤λ¥Ό μ •μν•κΈ° μ„ν•΄ μ‚¬μ©λλ‹¤.
  > **λ³µν•©ν‚¤λ€?**
  > 
  > μΌλ°μ μΌλ΅ JPAμ—μ„λ” μ—”ν‹°ν‹° κ³ μ  μ‹λ³„μλ΅ λ‹¨μΌ primary keyλ¥Ό μ΄μ©ν•λ‹¤.
  > 
  > μ΄λ• λ³µν•©ν‚¤λ€, primary keyκ°€ 2κ° μ΄μƒμΌ λ•λ¥Ό μλ―Έν•λ‹¤.

- `@EmbeddedId` μ–΄λ…Έν…μ…μ€ λ‚΄μ¥ κ°μ²΄λ΅ μ‚¬μ©ν•λ, ν•΄λ‹Ή λ‚΄μ¥ κ°μ²΄λ¥Ό λ³µν•©ν‚¤λ΅ μ‚¬μ©ν•λ‹¤λ” μλ―Έμ΄λ‹¤.

### @EmbeddedIdλ¥Ό μ‚¬μ©ν•κΈ° μ„ν•΄μ„
- λ³µν•©ν‚¤λ¥Ό μ‚¬μ©ν•κΈ° μ„ν•΄ λ³µν•©ν‚¤λ΅ μ‚¬μ©λ  primary keyλ“¤μ„ λ”°λ΅ λ¨μ•„μ„ ν΄λμ¤λ¥Ό μ •μν•λ‹¤.
- μ΄λ• ν•΄λ‹Ή ν΄λμ¤μ— @Embeddable μ–΄λ…Έν…μ΄μ…μ„ λ‹¬μ•„μ„ λ‚΄μ¥κ°μ²΄λ΅ μ‚¬μ©ν•  μ μλ„λ΅ ν•λ‹¤.
- κ·Έλ¦¬κ³  λ³µν•©ν‚¤λ¥Ό μ‚¬μ©ν•  μ—”ν‹°ν‹°μ— @EmbeddedId μ–΄λ…Έν…μ΄μ…μ„ ν†µν•΄ λ³µν•©ν‚¤κ°€ μ •μλμ–΄ μλ” ν΄λμ¤λ¥Ό λ‚΄ μ—”ν‹°ν‹°μ λ³µν•©ν‚¤λ΅ μ‚¬μ©ν•λ„λ΅ μ„¤μ •ν•λ‹¤.